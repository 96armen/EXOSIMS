from EXOSIMS.Observatory.ObservatoryL2Halo import ObservatoryL2Halo
import astropy.units as u
from astropy.time import Time
from astropy.coordinates import SkyCoord
import numpy as np
import os, inspect
import scipy.interpolate as interpolate
try:
    import cPickle as pickle
except:
    import pickle
from scipy.io import loadmat
import time

class WFIRSTObservatoryL2(ObservatoryL2Halo):
    """ WFIRST Observatory at L2 implementation. 
    Only difference between this and the Observatory implementation
    is the orbit method, and carrying an internal equinox time value.
    
    Orbit is stored in pickled dictionary on disk (generated by MATLAB
    code adapted from E. Kolemen (2008).  Describes approx. 6 month halo
    which is then patched for the entire mission duration).
    
    """

    def __init__(self, equinox=60575.25, orbit_datapath=None, **specs):
        
        # run prototype constructor __init__ 
        ObservatoryL2Halo.__init__(self,**specs)
        
        